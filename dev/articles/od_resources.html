<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Learn how `{STATcubeR}` caches data from the OGD portal
">
<title>File Management • STATcubeR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="../deps/bs3compat-0.2.5.1/tabs.js"></script><script src="../deps/bs3compat-0.2.5.1/bs3compat.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<link href="../syntax-highlighting.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="File Management">
<meta property="og:description" content="Learn how `{STATcubeR}` caches data from the OGD portal
">
<meta property="og:image" content="https://statistikat.github.io/STATcubeR/logo.png">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc" data-headroom>
    

      <nav class="navbar fixed-top navbar-default navbar-expand-lg bg-light"><div class="container">
    <a class="navbar-brand mb-0 h1" href="../index.html">STATcubeR</a>

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <button type="button" id="version-badge" class="badge badge-danger d-none d-lg-block" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="In-development version">0.2.4</button>

    <div id="navbar" class="collapse navbar-collapse">
      <ul class="navbar-nav mr-auto ml-3">
<li class="nav-item">
  <a class="nav-link" href="../reference/">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/">Show All Articles ...</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>STATcube REST API</h6>
    <a class="dropdown-item" href="../articles/sc_key.html">All about the API Key</a>
    <a class="dropdown-item" href="../articles/sc_table.html">Get Data via JSON Requests</a>
    <a class="dropdown-item" href="../articles/sc_schema.html">Metadata with the /schema Endpoint</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Open Goventment Data</h6>
    <a class="dropdown-item" href="../articles/od_table.html">Getting Started with OGD Data</a>
    <a class="dropdown-item" href="../articles/od_list.html">Available Datasets</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>The STATcubeR Data Class</h6>
    <a class="dropdown-item" href="../articles/sc_data.html">A Common Class for OGD and API Data</a>
    <a class="dropdown-item" href="../articles/sc_tabulate.html">Tabulation of Data</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control mr-sm-2" aria-label="Search" name="search-input" data-search-index="/dev/search.json" id="search-input" placeholder="Search..." autocomplete="off">
</form>

      <ul class="navbar-nav ml-1">
<li class="nav-item">
  <a class="external-link nav-link" href="https://data.statistik.gv.at">
    <span class="fas fa fas fa-table fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://www.statistik.at/web_de/services/statcube/">
    <span class="fas fa fas fa-cube fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/statistikat/STATcubeR/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
  </div>
</nav><div class="container template-article">
<script src="od_resources_files/header-attrs-2.10/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <img src="../package-logo.png" class="pkg-logo" alt=""><div class="page-header pb-2 mt-4 mb-2 border-bottom toc-ignore">
      <h1 class="display-4" data-toc-skip>File Management</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/statistikat/STATcubeR/blob/master/vignettes/od_resources.Rmd" class="external-link"><code>vignettes/od_resources.Rmd</code></a></small>
      <div class="d-none name"><code>od_resources.Rmd</code></div>

    </div>

    
    
<script src="https://unpkg.com/@popperjs/core@2"></script><script src="https://unpkg.com/tippy.js@6"></script><link rel="stylesheet" href="https://unpkg.com/tippy.js@6/themes/light.css">
<script>$(document).ready(function () {
    window.setTimeout("tippy('.STATcubeR', {allowHTML: true, theme:'light rounded'});", 50);
    });
    </script><p>This article explains how and where <a href="../index.html" data-tippy-content="
  &lt;b&gt;R package for all things STATcube&lt;/b&gt;&lt;br/&gt;
  Transfer data from the STATcube REST API or from the Open Data portal into your R sessions
  " class="STATcubeR">STATcubeR</a> caches resources from <a href="https://data.statistik.gv.at" data-tippy-allowhtml="true" data-tippy-content="
  &lt;b&gt;Open Government Data from Statistics Austria&lt;/b&gt;&lt;br/&gt;
The open data portal provides datasets from Statistics Austria according to open data guidelines
  " class="external-link STATcubeR">data.statistik.gv.at</a> in the local file system. Understanding this behavior will allow you to enable persistent caches and directly use the cached resources.</p>
<div id="overview" class="section level2">
<h2 class="hasAnchor">
<a href="#overview" class="anchor" aria-hidden="true"></a>Overview</h2>
<p>By default, <a href="../index.html" data-tippy-content="
  &lt;b&gt;R package for all things STATcube&lt;/b&gt;&lt;br/&gt;
  Transfer data from the STATcube REST API or from the Open Data portal into your R sessions
  " class="STATcubeR">STATcubeR</a> caches all accessed resources from <a href="https://data.statistik.gv.at" data-tippy-allowhtml="true" data-tippy-content="
  &lt;b&gt;Open Government Data from Statistics Austria&lt;/b&gt;&lt;br/&gt;
The open data portal provides datasets from Statistics Austria according to open data guidelines
  " class="external-link STATcubeR">data.statistik.gv.at</a> in the temporary directory of the current R session.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/od_resource.html">od_cache_dir</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] "/tmp/RtmpVhwbw8/STATcubeR/open_data/"</code></pre>
<p>Let’s examine for example what happens when the data from the structure of earnings suvey (SES) is requested.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">earnings</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/od_table.html">od_table</a></span><span class="op">(</span><span class="st">"OGD_veste309_Veste309_1"</span><span class="op">)</span></code></pre></div>
<p>First <code>STATcubeR</code> will grab a json with metadata about this dataset from <a href="https://data.statistik.gv.at/ogd/json?dataset=OGD_veste309_Veste309_1" class="external-link uri">https://data.statistik.gv.at/ogd/json?dataset=OGD_veste309_Veste309_1</a> and check which resources belong to it. For any resource, the attributes <code>name</code> and <code>last_modified</code> are extracted from the json. They are also included in the <code>od_table</code> object under <code>$resources</code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">earnings</span><span class="op">$</span><span class="va">resources</span></code></pre></div>
<pre class="r-output"><code><span style="color: #555555;"># A data frame: 7 × 6</span>
  <span style="font-weight: bold;">name</span>                                   <span style="font-weight: bold;">last_modified</span>       <span style="font-weight: bold;">cached</span>               <span style="font-weight: bold;">size</span> <span style="font-weight: bold;">download</span> <span style="font-weight: bold;">parsed</span>
  <span style="color: #555555; font-style: italic;">&lt;fct&gt;</span>                                  <span style="color: #555555; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #555555; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #555555; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #555555; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #555555; font-style: italic;">&lt;dbl&gt;</span>
<span style="color: #555555;">1</span> OGD_veste309_Veste309_1.json           2021-03-24 <span style="color: #555555;">11:32:41</span> 2021-08-18 <span style="color: #555555;">18:22:47</span>  <span style="text-decoration: underline;">4</span>071    112.  <span style="color: #BB0000;">NA</span>    
<span style="color: #555555;">2</span> OGD_veste309_Veste309_1.csv            2021-03-24 <span style="color: #555555;">11:32:41</span> 2021-08-18 <span style="color: #555555;">18:22:47</span>  <span style="text-decoration: underline;">3</span>857     21.8  2.49 
<span style="color: #555555;">3</span> OGD_veste309_Veste309_1_HEADER.csv     2021-03-24 <span style="color: #555555;">11:32:41</span> 2021-08-18 <span style="color: #555555;">18:22:47</span>   516     12.8 16.5  
<span style="color: #555555;">4</span> OGD_veste309_Veste309_1_C-A11-0.csv    2021-03-24 <span style="color: #555555;">11:32:41</span> 2021-08-18 <span style="color: #555555;">18:22:47</span>   159     16.7  0.766
<span style="color: #555555;">5</span> OGD_veste309_Veste309_1_C-STAATS-0.csv 2021-03-24 <span style="color: #555555;">11:32:41</span> 2021-08-18 <span style="color: #555555;">18:22:47</span>   697     19.9  1.34 
<span style="color: #555555;">6</span> OGD_veste309_Veste309_1_C-VEBDL-0.csv  2021-03-24 <span style="color: #555555;">11:32:41</span> 2021-08-18 <span style="color: #555555;">18:22:47</span>   518     10.2  0.596
<span style="color: #555555;">7</span> OGD_veste309_Veste309_1_C-BESCHV-0.csv 2021-03-24 <span style="color: #555555;">11:32:41</span> 2021-08-18 <span style="color: #555555;">18:22:47</span>   641     11.4  0.846</code></pre>
<p><code>last_modified</code> tells us when the resource was changed on the fileserver. If a resource does not exist in the cache or if the last modified entry in the json is newer than the cached file, it will be dowloaded from the server. Otherwise, the cached version is reused.</p>
</div>
<div id="access-and-updates" class="section level2">
<h2 class="hasAnchor">
<a href="#access-and-updates" class="anchor" aria-hidden="true"></a>Access and Updates</h2>
<p>Cached files can be acessed with <code><a href="../reference/od_resource.html">od_cache_file()</a></code>. If the specified file exists in the cache, a path to the file will be returned. Otherwise, the file is downloaded to the cache and then the path is returned. The files use the same naming conventions as the open data fileserver.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/od_resource.html">od_cache_file</a></span><span class="op">(</span><span class="st">"OGD_veste309_Veste309_1"</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] "/tmp/RtmpVhwbw8/STATcubeR/open_data/OGD_veste309_Veste309_1.csv"</code></pre>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/od_resource.html">od_cache_file</a></span><span class="op">(</span><span class="st">"OGD_veste309_Veste309_1"</span>, <span class="st">"C-A11-0"</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] "/tmp/RtmpVhwbw8/STATcubeR/open_data/OGD_veste309_Veste309_1_C-A11-0.csv"</code></pre>
<p>To read files from the cache as <code>data.frame</code>s, use <code><a href="../reference/od_resource.html">od_resource()</a></code> with same parameters as in <code><a href="../reference/od_resource.html">od_cache_file()</a></code>. This will apply a special parser to the dataset which drops unneeded columns and normalizes column names.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/od_resource.html">od_resource</a></span><span class="op">(</span><span class="st">"OGD_veste309_Veste309_1"</span>, <span class="st">"C-A11-0"</span><span class="op">)</span></code></pre></div>
<pre class="r-output"><code><span style="color: #555555;"># A data frame: 3 × 4</span>
  <span style="font-weight: bold;">code</span>  <span style="font-weight: bold;">label</span> <span style="font-weight: bold;">label_de</span>  <span style="font-weight: bold;">label_en</span> 
<span style="color: #555555;">*</span> <span style="color: #555555; font-style: italic;">&lt;chr&gt;</span> <span style="color: #555555; font-style: italic;">&lt;chr&gt;</span> <span style="color: #555555; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #555555; font-style: italic;">&lt;chr&gt;</span>    
<span style="color: #555555;">1</span> A11-1 <span style="color: #BB0000;">NA</span>    insgesamt Sum total
<span style="color: #555555;">2</span> A11-2 <span style="color: #BB0000;">NA</span>    männlich  Male     
<span style="color: #555555;">3</span> A11-3 <span style="color: #BB0000;">NA</span>    weiblich  Female   </code></pre>
<p>The parser behaves differently for header files, data files and fields. Json files can be acessed with <code><a href="../reference/od_resource.html">od_json()</a></code>.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">json</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/od_resource.html">od_json</a></span><span class="op">(</span><span class="st">"OGD_veste309_Veste309_1"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="va">json</span><span class="op">$</span><span class="va">tags</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] "Staatsangehörigkeit"      "Bundesland"               "Beschäftigungsverhältnis"</code></pre>
</div>
<div id="clearing-and-changing" class="section level2">
<h2 class="hasAnchor">
<a href="#clearing-and-changing" class="anchor" aria-hidden="true"></a>Clearing and Changing</h2>
<p><code>od_cache_clear(id)</code> can be used to clear the cache from all files belonging to the passed dataset id. We saw that <code>earnings$resources</code> contains 7 rows, therefore 7 files will be deleted during cleanup.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/od_resource.html">od_cache_clear</a></span><span class="op">(</span><span class="st">"OGD_veste309_Veste309_1"</span><span class="op">)</span></code></pre></div>
<pre><code>## deleted 7 files from '/tmp/RtmpVhwbw8/STATcubeR/open_data/'</code></pre>
<p>If you want to use a persistent directory like <code>~/.cache/STATcubeR/open_data/</code> for caching, the directory can be changed with <code>od_cache_dir(new)</code>.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/od_resource.html">od_cache_dir</a></span><span class="op">(</span><span class="st">"~/.cache/STATcubeR/open_data/"</span><span class="op">)</span></code></pre></div>
</div>
<div id="the-resources-field" class="section level2">
<h2 class="hasAnchor">
<a href="#the-resources-field" class="anchor" aria-hidden="true"></a>The resources field</h2>
<p>Let’s go back to the <code>$resources</code> field of <code>earnings</code>.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">earnings</span><span class="op">$</span><span class="va">resources</span></code></pre></div>
<pre class="r-output"><code><span style="color: #555555;"># A data frame: 7 × 6</span>
  <span style="font-weight: bold;">name</span>                                   <span style="font-weight: bold;">last_modified</span>       <span style="font-weight: bold;">cached</span>               <span style="font-weight: bold;">size</span> <span style="font-weight: bold;">download</span> <span style="font-weight: bold;">parsed</span>
  <span style="color: #555555; font-style: italic;">&lt;fct&gt;</span>                                  <span style="color: #555555; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #555555; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #555555; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #555555; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #555555; font-style: italic;">&lt;dbl&gt;</span>
<span style="color: #555555;">1</span> OGD_veste309_Veste309_1.json           2021-03-24 <span style="color: #555555;">11:32:41</span> 2021-08-18 <span style="color: #555555;">18:22:47</span>  <span style="text-decoration: underline;">4</span>071    112.  <span style="color: #BB0000;">NA</span>    
<span style="color: #555555;">2</span> OGD_veste309_Veste309_1.csv            2021-03-24 <span style="color: #555555;">11:32:41</span> 2021-08-18 <span style="color: #555555;">18:22:47</span>  <span style="text-decoration: underline;">3</span>857     21.8  2.49 
<span style="color: #555555;">3</span> OGD_veste309_Veste309_1_HEADER.csv     2021-03-24 <span style="color: #555555;">11:32:41</span> 2021-08-18 <span style="color: #555555;">18:22:47</span>   516     12.8 16.5  
<span style="color: #555555;">4</span> OGD_veste309_Veste309_1_C-A11-0.csv    2021-03-24 <span style="color: #555555;">11:32:41</span> 2021-08-18 <span style="color: #555555;">18:22:47</span>   159     16.7  0.766
<span style="color: #555555;">5</span> OGD_veste309_Veste309_1_C-STAATS-0.csv 2021-03-24 <span style="color: #555555;">11:32:41</span> 2021-08-18 <span style="color: #555555;">18:22:47</span>   697     19.9  1.34 
<span style="color: #555555;">6</span> OGD_veste309_Veste309_1_C-VEBDL-0.csv  2021-03-24 <span style="color: #555555;">11:32:41</span> 2021-08-18 <span style="color: #555555;">18:22:47</span>   518     10.2  0.596
<span style="color: #555555;">7</span> OGD_veste309_Veste309_1_C-BESCHV-0.csv 2021-03-24 <span style="color: #555555;">11:32:41</span> 2021-08-18 <span style="color: #555555;">18:22:47</span>   641     11.4  0.846</code></pre>
<p>We already looked at <strong><code>name</code></strong> and <strong><code>last_modified</code></strong>. The remaining columns can be interpreted as follows</p>
<ul>
<li>
<strong><code>cached</code></strong> tells us the last time the cache file for the resource was modified.</li>
<li>
<strong><code>size</code></strong> is the file size in bytes</li>
<li>
<strong><code>download</code></strong> contains the amount of milliseconds used to retrieve the resource when it was last updated.</li>
<li>
<strong><code>parsed</code></strong> reports the amount of milliseconds it took <code><a href="../reference/od_resource.html">od_resource()</a></code> to convert the file contents into a <code><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame()</a></code> format. For the json file, the parsing time is always reported as <code><span style="color: #BB0000;">NA</span></code>.</li>
</ul>
</div>
<div id="whats-in-the-cache" class="section level2">
<h2 class="hasAnchor">
<a href="#whats-in-the-cache" class="anchor" aria-hidden="true"></a>What’s in the cache?</h2>
<p><code><a href="../reference/od_cache.html">od_cache_summary()</a></code> will give an overview about all files that are available in the cache directory. The returned table contains one row for every dataset.</p>
<ul>
<li>The column <strong><code>updated</code></strong> contains the last modified date for the datasets json file.</li>
<li>
<strong><code>json</code></strong>, <strong><code>data</code></strong> and <strong><code>header</code></strong> give the file sizes in bytes for the corresponding files.</li>
<li>
<strong><code>fields</code></strong> is the total size of all fields and <strong><code>n_fields</code></strong> is the number of classification files available.</li>
</ul>
<p>We can get a clear picture on how much disk space is used for each dataset.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/od_cache.html">od_cache_summary</a></span><span class="op">(</span><span class="op">)</span> </code></pre></div>
<pre class="r-output"><code><span style="color: #555555;"># A data frame: 271 × 7</span>
   <span style="font-weight: bold;">id</span>                                           <span style="font-weight: bold;">updated</span>              <span style="font-weight: bold;">json</span>   <span style="font-weight: bold;">data</span> <span style="font-weight: bold;">header</span> <span style="font-weight: bold;">fields</span> <span style="font-weight: bold;">n_fields</span>
   <span style="color: #555555; font-style: italic;">&lt;chr&gt;</span>                                        <span style="color: #555555; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #555555; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #555555; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #555555; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #555555; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #555555; font-style: italic;">&lt;int&gt;</span>
<span style="color: #555555;"> 1</span> OGD__steuer_lst_ab_2015_3_LSt_2015_Auswahl_3 2021-08-13 <span style="color: #555555;">00:53:09</span>  <span style="text-decoration: underline;">6</span>528  <span style="text-decoration: underline;">83</span>665   <span style="text-decoration: underline;">4</span>259   <span style="text-decoration: underline;">1</span>695        5
<span style="color: #555555;"> 2</span> OGD__steuer_lst_ab_2015_6_LSt_2015_Auswahl_6 2021-08-13 <span style="color: #555555;">00:53:09</span>  <span style="text-decoration: underline;">6</span>208 <span style="text-decoration: underline;">305</span>349   <span style="text-decoration: underline;">4</span>297   <span style="text-decoration: underline;">2</span>653        4
<span style="color: #555555;"> 3</span> OGD__steuer_lst_ab_2017_3_LSt_2017_Auswahl_3 2021-08-13 <span style="color: #555555;">00:53:09</span>  <span style="text-decoration: underline;">6</span>513  <span style="text-decoration: underline;">42</span>023   <span style="text-decoration: underline;">4</span>259   <span style="text-decoration: underline;">1</span>676        5
<span style="color: #555555;"> 4</span> OGD__steuer_lst_ab_2017_6_LSt_2017_Auswahl_6 2021-08-13 <span style="color: #555555;">00:53:09</span>  <span style="text-decoration: underline;">6</span>193 <span style="text-decoration: underline;">153</span>282   <span style="text-decoration: underline;">4</span>297   <span style="text-decoration: underline;">2</span>634        4
<span style="color: #555555;"> 5</span> OGD__steuer_lue_2015_1a_LuE_ab_2015          2021-08-13 <span style="color: #555555;">00:53:09</span>  <span style="text-decoration: underline;">4</span>862 <span style="text-decoration: underline;">269</span>849   <span style="text-decoration: underline;">2</span>263   <span style="text-decoration: underline;">3</span>436        3
<span style="color: #555555;"> 6</span> OGD_1531kn2_Aussenhandel_4                   2021-08-13 <span style="color: #555555;">00:53:09</span>  <span style="text-decoration: underline;">3</span>089 <span style="text-decoration: underline;">106</span>427    277   <span style="text-decoration: underline;">9</span>435        2
<span style="color: #555555;"> 7</span> OGD_aeapp_biber_abschl_ext_BIBER_ABSCHL_1    2021-08-17 <span style="color: #555555;">12:52:47</span>  <span style="text-decoration: underline;">5</span>063  <span style="text-decoration: underline;">35</span>682    429   <span style="text-decoration: underline;">1</span>327        4
<span style="color: #555555;"> 8</span> OGD_aest_erv_statw_haupt_ERV_STATWECHSEL_1   2021-08-18 <span style="color: #555555;">00:11:58</span>  <span style="text-decoration: underline;">6</span>237  <span style="text-decoration: underline;">88</span>258    476   <span style="text-decoration: underline;">1</span>700        5
<span style="color: #555555;"> 9</span> OGD_ahlgrhs_Aussenhandel_2                   2021-08-13 <span style="color: #555555;">00:53:09</span>  <span style="text-decoration: underline;">3</span>318  <span style="text-decoration: underline;">13</span>886    270   <span style="text-decoration: underline;">1</span>276        3
<span style="color: #555555;">10</span> OGD_ahlgrhs_Aussenhandel_3                   2021-08-13 <span style="color: #555555;">00:53:09</span>  <span style="text-decoration: underline;">2</span>974  <span style="text-decoration: underline;">28</span>513    225   <span style="text-decoration: underline;">7</span>681        2
<span style="color: #555555;"># … with 261 more rows</span></code></pre>
<p>Note that <code><a href="../reference/od_cache.html">od_cache_summary()</a></code> only gathers information from the local file system based on filenames, <code><a href="https://rdrr.io/r/base/file.info.html" class="external-link">file.mtime()</a></code> and <code><a href="https://rdrr.io/r/base/file.info.html" class="external-link">file.size()</a></code>.</p>
</div>
<div id="download-history" class="section level2">
<h2 class="hasAnchor">
<a href="#download-history" class="anchor" aria-hidden="true"></a>Download history</h2>
<p>To get a history of all files that have been downloaded from the server, use <code><a href="../reference/od_cache.html">od_downloads()</a></code>. For each file, a timestamp for the download is recorded as well as the download time in milliseconds.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/od_cache.html">od_downloads</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre class="r-output"><code><span style="color: #555555;"># A data frame: 7 × 3</span>
  <span style="font-weight: bold;">time</span>                <span style="font-weight: bold;">file</span>                                   <span style="font-weight: bold;">downloaded</span>
<span style="color: #555555;">*</span> <span style="color: #555555; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #555555; font-style: italic;">&lt;fct&gt;</span>                                       <span style="color: #555555; font-style: italic;">&lt;dbl&gt;</span>
<span style="color: #555555;">1</span> 2021-08-18 <span style="color: #555555;">18:22:47</span> OGD_veste309_Veste309_1_C-BESCHV-0.csv       11.4
<span style="color: #555555;">2</span> 2021-08-18 <span style="color: #555555;">18:22:47</span> OGD_veste309_Veste309_1_C-VEBDL-0.csv        10.2
<span style="color: #555555;">3</span> 2021-08-18 <span style="color: #555555;">18:22:47</span> OGD_veste309_Veste309_1_C-STAATS-0.csv       19.9
<span style="color: #555555;">4</span> 2021-08-18 <span style="color: #555555;">18:22:47</span> OGD_veste309_Veste309_1_C-A11-0.csv          16.7
<span style="color: #555555;">5</span> 2021-08-18 <span style="color: #555555;">18:22:47</span> OGD_veste309_Veste309_1_HEADER.csv           12.8
<span style="color: #555555;">6</span> 2021-08-18 <span style="color: #555555;">18:22:47</span> OGD_veste309_Veste309_1.csv                  21.8
<span style="color: #555555;">7</span> 2021-08-18 <span style="color: #555555;">18:22:47</span> OGD_veste309_Veste309_1.json                112. </code></pre>
</div>
  </div>
 <div class="col-md-3 d-none d-md-block" id="pkgdown-sidebar">
        <div class="sticky-top">
    <nav id="toc"><h2 data-toc-skip>Contents</h2>

    </nav>
</div>
      </div>

</div>



      <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://github.com/GregorDeCillia" class="external-link external-link">Gregor de Cillia</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link external-link">pkgdown</a> 1.6.1.9001.</p>
</div>

      </footer>
</div>

  

  

  </body>
</html>
