<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="The `/schema` endpoint of the REST API provides metadata about databases and can also be used to retrieve a catalogue with all available databases.
">
<title>Get Metadata with the Schema Endpoint • STATcubeR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Get Metadata with the Schema Endpoint">
<meta property="og:description" content="The `/schema` endpoint of the REST API provides metadata about databases and can also be used to retrieve a catalogue with all available databases.
">
<meta property="og:image" content="https://statistikat.github.io/STATcubeR/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-default navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">STATcubeR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.4.3</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/">Show All Articles ...</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>STATcube REST API</h6>
    <a class="dropdown-item" href="../articles/sc_key.html">All about the API Key</a>
    <a class="dropdown-item" href="../articles/sc_table.html">Get Data via JSON Requests</a>
    <a class="dropdown-item" href="../articles/sc_schema.html">Metadata with the /schema Endpoint</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Open Goventment Data</h6>
    <a class="dropdown-item" href="../articles/od_table.html">Getting Started with OGD Data</a>
    <a class="dropdown-item" href="../articles/od_list.html">Available Datasets</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>The STATcubeR Data Class</h6>
    <a class="dropdown-item" href="../articles/sc_data.html">A Common Class for OGD and API Data</a>
    <a class="dropdown-item" href="../articles/sc_tabulate.html">Tabulation of Data</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://data.statistik.gv.at" aria-label="open data portal">
    <span class="fas fa fas fa-table fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://www.statistik.at/datenbanken/statcube-statistische-datenbank" aria-label="STATcube">
    <span class="fas fa fas fa-cube fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/statistikat/STATcubeR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Get Metadata with the Schema Endpoint</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/statistikat/STATcubeR/blob/HEAD/vignettes/sc_schema.Rmd" class="external-link"><code>vignettes/sc_schema.Rmd</code></a></small>
      <div class="d-none name"><code>sc_schema.Rmd</code></div>
    </div>

    
    
<script src="https://unpkg.com/@popperjs/core@2"></script><script src="https://unpkg.com/tippy.js@6"></script><link rel="stylesheet" href="https://unpkg.com/tippy.js@6/themes/light.css">
<script>$(document).ready(function () {
    window.setTimeout("tippy('.STATcubeR', {allowHTML: true, theme:'light rounded'});", 50);
    });
    </script><p>There are currently three functions in
<a href="../index.html" data-tippy-content="
  &lt;b class='tippy_header'&gt;R package for all things STATcube&lt;/b&gt;&lt;br/&gt;
  &lt;div class='tippy_body'&gt;
    Transfer data from the STATcube REST API or from the Open Data portal into your R sessions
  &lt;/div&gt;
  " class="STATcubeR">STATcubeR</a>
that utilize the <code>/schema</code> endpoint.</p>
<ul>
<li>
<code><a href="../reference/sc_schema.html">sc_schema_catalogue()</a></code> returns an overview of all
available databases and tables.</li>
<li>
<code><a href="../reference/sc_schema.html">sc_schema_db()</a></code> can be used to inspect all fields and
measures for a database.</li>
<li>
<code><a href="../reference/sc_schema.html">sc_schema()</a></code> returns metadata about any resource.</li>
</ul>
<div class="section level2">
<h2 id="browsing-the-catalogue">Browsing the Catalogue<a class="anchor" aria-label="anchor" href="#browsing-the-catalogue"></a>
</h2>
<p>The first function shows the catalogue, which lists all available
databases in a tree form. The tree structure is determined by the API
and closely resembles the “Catalogue” view in the GUI.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_catalogue</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sc_schema.html">sc_schema_catalogue</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">my_catalogue</span></span></code></pre></div>
<pre class="r-output"><code>FOLDER: Extern V9
<span style="color: #949494;"># A data frame: 9 × 3</span>
  <span style="font-weight: bold;">child</span>                     <span style="font-weight: bold;">type</span>   <span style="font-weight: bold;">n_childs</span>
  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>
<span style="color: #BCBCBC;">1</span> Examples                  FOLDER        9
<span style="color: #BCBCBC;">2</span> Publications and services FOLDER        2
<span style="color: #BCBCBC;">3</span> Default Tables            FOLDER        0
<span style="color: #BCBCBC;">4</span> Statistics                FOLDER       20
<span style="color: #BCBCBC;">5</span> Bier auf Wein             TABLE         0
<span style="color: #BCBCBC;">6</span> hierarchical              TABLE         0
<span style="color: #BCBCBC;">7</span> neu                       TABLE         0
<span style="color: #BCBCBC;">8</span> lebenserwartung           TABLE         0
<span style="color: #BCBCBC;">9</span> test123                   TABLE         0</code></pre>
<p>We see that the catalog has 8 child nodes: Four childs of type
<code>FOLDER</code> and four childs of type <code>TABLE</code>. The
table nodes correspond to the saved tables as described in the
<a href="sc_table_saved.html" class="STATcubeR" data-tippy-content='&lt;div style="font-size: 14px; text-align: left;"&gt;
  &lt;b class="tippy_header"&gt;Load Saved Tables&lt;/b&gt;
  &lt;br/&gt;
  &lt;div class="tippy_body"&gt;STATcube allows you to save tables in the GUI. You can import those saved tables using &lt;code&gt;sc_table_saved()&lt;/code&gt;. This function can also be used to import default tables for databases.&lt;/div&gt;
&lt;/div&gt;'>saved tables article</a>.
The folders include all folders from the root level in the <a href="https://portal.statistik.at/statistik.at/ext/statcube/jsf/dataCatalogueExplorer.xhtml" class="external-link">catalogue
explorer</a>: “Statistics”, “Publication and Services” as well as
“Examples”.</p>
<p><img src="img/catalogue2.png" width="70%" style="display: block; margin: auto;"></p>
<p>To get access to the child nodes use
<code>my_catalogue${child_label}</code></p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_catalogue</span><span class="op">$</span><span class="va">Statistics</span></span></code></pre></div>
<pre class="r-output"><code>FOLDER: Statistics
<span style="color: #949494;"># A data frame: 20 × 3</span>
  <span style="font-weight: bold;">child</span>               <span style="font-weight: bold;">type</span>   <span style="font-weight: bold;">n_childs</span>
  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>
<span style="color: #BCBCBC;">1</span> Labour Market       FOLDER       14
<span style="color: #BCBCBC;">2</span> Foreign Trade       FOLDER        4
<span style="color: #BCBCBC;">3</span> Population          FOLDER       16
<span style="color: #BCBCBC;">4</span> Education, Culture  FOLDER        5
<span style="color: #BCBCBC;">5</span> Energy, Environment FOLDER        2
<span style="color: #949494;"># … with 15 more rows</span></code></pre>
<p>The child node <code>Statistics</code> is also of class
<code>sc_schema</code> and shows all entries of the subfolder.</p>
<p><img src="img/catalogue3.png" width="70%" style="display: block; margin: auto;"></p>
<p>This syntax can be used to navigate through folders and
subfolders.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_catalogue</span><span class="op">$</span><span class="va">Statistics</span><span class="op">$</span><span class="va">`Foreign Trade`</span></span></code></pre></div>
<pre class="r-output"><code>FOLDER: Foreign Trade
<span style="color: #949494;"># A data frame: 4 × 3</span>
  <span style="font-weight: bold;">child</span>                                     <span style="font-weight: bold;">type</span>   <span style="font-weight: bold;">n_childs</span>
  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>
<span style="color: #BCBCBC;">1</span> TEC - Trade by enterprise characteristics FOLDER       20
<span style="color: #BCBCBC;">2</span> Außenhandelsindizes                       FOLDER        0
<span style="color: #BCBCBC;">3</span> Foreign Trade; Absolute Data              FOLDER       12
<span style="color: #BCBCBC;">4</span> Regional data by federal provinces        FOLDER        6</code></pre>
<p><img src="img/catalogue4.png" width="70%" style="display: block; margin: auto;"></p>
<p>In some cases, the API shows more folders than the GUI in which case
the folders from the API will be empty.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_catalogue</span><span class="op">$</span><span class="va">Statistics</span><span class="op">$</span><span class="va">`Foreign Trade`</span><span class="op">$</span><span class="va">Außenhandelsindizes</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="va">FOLDER</span><span class="op">:</span> <span class="va">Außenhandelsindizes</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="databases-and-tables">Databases and Tables<a class="anchor" aria-label="anchor" href="#databases-and-tables"></a>
</h2>
<p>Inside the catalogue, the leafs<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;In the context of tree-like data structures, leafs are
used to describe nodes of a tree which have no child nodes&lt;/p&gt;"><sup>1</sup></a> of the tree are mostly of type
<code>DATABASE</code> and <code>TABLE</code>. Here is an example for the
<code>DATABASE</code> node <a href="https://portal.statistik.at/statistik.at/ext/statcube/openinfopage?id=deake005" class="external-link"><code>deake005</code></a>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_catalogue</span><span class="op">$</span><span class="va">Statistics</span><span class="op">$</span><span class="va">`Labour Market`</span><span class="op">$</span><span class="va">`Working hours (Labour Force Survey)`</span></span></code></pre></div>
<pre class="r-output"><code>DATABASE: Working hours (Labour Force Survey)
# Get more info with `sc_schema_db('str:database:deake005')` </code></pre>
<p><img src="img/catalogue_deake005.png" width="70%" style="display: block; margin: auto;"></p>
<p>The function <code><a href="../reference/sc_schema.html">sc_schema_db()</a></code> will be shown in the next
section. As an example for a <code>TABLE</code> node, consider the <a href="https://portal.statistik.at/statistik.at/ext/statcube/openinfopage?tableId=defaulttable_deake005" class="external-link">default
table for <code>deake005</code></a>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_catalogue</span><span class="op">$</span><span class="va">Statistics</span><span class="op">$</span><span class="va">`Labour Market`</span><span class="op">$</span></span>
<span>  <span class="va">`Standardtabelle / Default table (defaulttable_deake005)`</span></span></code></pre></div>
<pre class="r-output"><code>TABLE: Standardtabelle / Default table (defaulttable_deake005)
Get the data with `sc_table_saved('str:table:defaulttable_deake005')` </code></pre>
<p><img src="img/catalogue_deake005_tables.png" width="70%" style="display: block; margin: auto;"></p>
<p>As suggested by the output, tables can be loaded with the
<code>/table</code> endpoint via <code><a href="../reference/sc_table.html">sc_table_saved()</a></code>. See the
<a href="sc_table_saved.html" class="STATcubeR" data-tippy-content='&lt;div style="font-size: 14px; text-align: left;"&gt;
  &lt;b class="tippy_header"&gt;Load Saved Tables&lt;/b&gt;
  &lt;br/&gt;
  &lt;div class="tippy_body"&gt;STATcube allows you to save tables in the GUI. You can import those saved tables using &lt;code&gt;sc_table_saved()&lt;/code&gt;. This function can also be used to import default tables for databases.&lt;/div&gt;
&lt;/div&gt;'>saved tables article</a>
for more details.</p>
</div>
<div class="section level2">
<h2 id="database-infos">Database Infos<a class="anchor" aria-label="anchor" href="#database-infos"></a>
</h2>
<p>To get information about a specific database, you can pass the
database <code>id</code> to <code><a href="../reference/sc_schema.html">sc_schema_db()</a></code>. Similar to
<code><a href="../reference/sc_schema.html">sc_schema_catalogue()</a></code>, the return value has a tree-like
data structure.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_db_info</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sc_schema.html">sc_schema_db</a></span><span class="op">(</span><span class="st">"deake005"</span><span class="op">)</span></span>
<span><span class="va">my_db_info</span></span></code></pre></div>
<pre class="r-output"><code>DATABASE: Working hours (Labour Force Survey)
<span style="color: #949494;"># A data frame: 8 × 3</span>
  <span style="font-weight: bold;">child</span>                       <span style="font-weight: bold;">type</span>  <span style="font-weight: bold;">n_childs</span>
  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>
<span style="color: #BCBCBC;">1</span> Factors                     GROUP        9
<span style="color: #BCBCBC;">2</span> Datensätze/Records          GROUP        1
<span style="color: #BCBCBC;">3</span> Time (mandatory field)      GROUP        1
<span style="color: #BCBCBC;">4</span> Demographic Characteristics GROUP        8
<span style="color: #BCBCBC;">5</span> Employment Characteristics  GROUP        6
<span style="color: #949494;"># … with 3 more rows</span></code></pre>
<p>For comparison, here is a screenshot from the sidebar of the table
view for <a href="https://portal.statistik.at/statistik.at/ext/statcube/openinfopage?id=deake005" class="external-link"><code>deake005</code></a>
which has a similar (but not identical) structure.</p>
<p><img src="img/table_view.png" width="70%" style="display: block; margin: auto;"></p>
<p><code>my_db_info</code> can be used in a similar fashion as
<code>my_catalogue</code> to obtain details about the resources in the
tree. For example, the <code>VALUESET</code> with the label “Gender” can
be viewed like this.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_db_info</span><span class="op">$</span><span class="va">`Demographic Characteristics`</span></span></code></pre></div>
<pre class="r-output"><code>GROUP: Demographic Characteristics
<span style="color: #949494;"># A data frame: 8 × 3</span>
  <span style="font-weight: bold;">child</span>                                                         <span style="font-weight: bold;">type</span>  <span style="font-weight: bold;">n_childs</span>
  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                                         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>
<span style="color: #BCBCBC;">1</span> Gender                                                        FIELD        1
<span style="color: #BCBCBC;">2</span> Age in years-groups                                           FIELD        3
<span style="color: #BCBCBC;">3</span> Highest level of training completed (national classification) FIELD        2
<span style="color: #BCBCBC;">4</span> Highest level of training completed (ISCED 97)                FIELD        2
<span style="color: #BCBCBC;">5</span> Highest level of training completed (ISCED 2011)              FIELD        2
<span style="color: #949494;"># … with 3 more rows</span></code></pre>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_db_info</span><span class="op">$</span><span class="va">`Demographic Characteristics`</span><span class="op">$</span><span class="va">Gender</span><span class="op">$</span><span class="va">Gender</span></span></code></pre></div>
<pre class="r-output"><code>VALUESET: Gender
<span style="color: #949494;"># A data frame: 3 × 3</span>
  <span style="font-weight: bold;">child</span>                <span style="font-weight: bold;">type</span>  <span style="font-weight: bold;">n_childs</span>
  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>
<span style="color: #BCBCBC;">1</span> male                 VALUE        0
<span style="color: #BCBCBC;">2</span> female               VALUE        0
<span style="color: #BCBCBC;">3</span> Not classifiable &lt;0&gt; VALUE        0</code></pre>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_db_info</span><span class="op">$</span><span class="va">`Demographic Characteristics`</span><span class="op">$</span><span class="va">Gender</span><span class="op">$</span><span class="va">Gender</span><span class="op">$</span><span class="va">male</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="va">VALUE</span><span class="op">:</span> <span class="va">male</span></span></code></pre>
<p>The leafs of database schemas are mostly of type <code>VALUE</code>
and <code>MEASURE</code>.</p>
</div>
<div class="section level2">
<h2 id="data-structure-of-sc_schema-objects">Data Structure of sc_schema Objects<a class="anchor" aria-label="anchor" href="#data-structure-of-sc_schema-objects"></a>
</h2>
<p>As shown above, <code>sc_schema</code> objets have a tree like
structure. Each <code>sc_schema</code> object has <code>id</code>,
<code>label</code>, <code>location</code> and <code>type</code> as the
last four entries</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="va">my_db_info</span><span class="op">$</span><span class="va">`Demographic Characteristics`</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; List of 4</span></span>
<span><span class="co">#&gt;  $ id      : chr "str:group:deake005:X_B1"</span></span>
<span><span class="co">#&gt;  $ label   : chr "Demographic Characteristics"</span></span>
<span><span class="co">#&gt;  $ location: chr "http://statcubeapi.statistik.at/statistik.at/ext/statcube/rest/v1/schema/str:group:deake005:X_B1"</span></span>
<span><span class="co">#&gt;  $ type    : chr "GROUP"</span></span></code></pre>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="va">my_catalogue</span><span class="op">$</span><span class="va">Statistics</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; List of 4</span></span>
<span><span class="co">#&gt;  $ id      : chr "str:folder:festat"</span></span>
<span><span class="co">#&gt;  $ label   : chr "Statistics"</span></span>
<span><span class="co">#&gt;  $ location: chr "http://statcubeapi.statistik.at/statistik.at/ext/statcube/rest/v1/schema/str:folder:festat"</span></span>
<span><span class="co">#&gt;  $ type    : chr "FOLDER"</span></span></code></pre>
<p>Schema objects can have an arbitrary amount of children. Children are
always of type <code>sc_schema</code>. <code>x$type</code> contains the
type of the schema object. A complete list of schema types is avilable
in the <a href="https://docs.wingarc.com.au/superstar/9.12/open-data-api/open-data-api-reference/schema-endpoint" class="external-link">API
reference</a>.</p>
</div>
<div class="section level2">
<h2 id="other-resources">Other Resources<a class="anchor" aria-label="anchor" href="#other-resources"></a>
</h2>
<p>Information about resources other than databases and the catalogue
can be obtained by passing the resource id to
<code><a href="../reference/sc_schema.html">sc_schema()</a></code>.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">id</span> <span class="op">&lt;-</span> <span class="va">my_db_info</span><span class="op">$</span><span class="va">Factors</span><span class="op">$</span><span class="va">id</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; [1] "str:group:deake005:M_F1"</span></span></code></pre>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">group_info</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sc_schema.html">sc_schema</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span>
<span><span class="va">group_info</span></span></code></pre></div>
<pre class="r-output"><code>GROUP: Factors
<span style="color: #949494;"># A data frame: 9 × 3</span>
  <span style="font-weight: bold;">child</span>                                                          <span style="font-weight: bold;">type</span>    <span style="font-weight: bold;">n_chi…¹</span>
  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                                          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>
<span style="color: #BCBCBC;">1</span> Average hours actually worked per week                         MEASURE       0
<span style="color: #BCBCBC;">2</span> Average hours usually worked per week                          MEASURE       0
<span style="color: #BCBCBC;">3</span> Volume of hours worked in the main job per year in million ho… MEASURE       0
<span style="color: #BCBCBC;">4</span> Volume of hours worked overtime (paid) per year in million ho… MEASURE       0
<span style="color: #BCBCBC;">5</span> Volume of hours worked overtime (unpaid) per year in million … MEASURE       0
<span style="color: #949494;"># … with 4 more rows, and abbreviated variable name ¹​n_childs</span></code></pre>
<p>Note that the tree returned only has depth 1, i.e. the child nodes of
measures are not available in <code>group_info</code>. However, ids of
the child nodes can be obtained with <code>$id</code>. These ids can be
used to send another request to the <code>/schema</code> endpoint</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">id</span> <span class="op">&lt;-</span> <span class="va">group_info</span><span class="op">$</span><span class="va">`Average hours usually worked per week`</span><span class="op">$</span><span class="va">id</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; [1] "str:measure:deake005:F-DATA:F-FAKTOR2"</span></span></code></pre>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">measure_info</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sc_schema.html">sc_schema</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span></code></pre></div>
<p>Alternatively, use the <code>depth</code> parameter of
<code><a href="../reference/sc_schema.html">sc_schema()</a></code>. This will make sure that the entries of the
tree are returned recursively up to a certain level. For example,
<code>depth = "VALUESET"</code> will use the same level of recursion as
<code><a href="../reference/sc_schema.html">sc_schema_db()</a></code>. See <code><a href="../reference/sc_schema.html">?sc_schema</a></code> for all
available options of the <code>depth</code> parameter.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">group_info</span> <span class="op">&lt;-</span> <span class="va">my_db_info</span><span class="op">$</span><span class="va">`Demographic Characteristics`</span><span class="op">$</span><span class="va">id</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/sc_schema.html">sc_schema</a></span><span class="op">(</span>depth <span class="op">=</span> <span class="st">"valueset"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="printing-with-data-tree">Printing with data.tree<a class="anchor" aria-label="anchor" href="#printing-with-data-tree"></a>
</h2>
<p>If the <a href="http://github.com/gluc/data.tree" class="external-link">data.tree</a> package is installed, it can be used
for an alternative print mehtod.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">group_info</span>, tree <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;                           levelName     type</span></span>
<span><span class="co">#&gt; 1  Demographic Characteristics         GROUP</span></span>
<span><span class="co">#&gt; 2   ¦--Gender                          FIELD</span></span>
<span><span class="co">#&gt; 3   ¦   °--Gender                   VALUESET</span></span>
<span><span class="co">#&gt; 4   ¦       ¦--male                    VALUE</span></span>
<span><span class="co">#&gt; 5   ¦       ¦--female                  VALUE</span></span>
<span><span class="co">#&gt; 6   ¦       °--Not classifiable &lt;0&gt;    VALUE</span></span>
<span><span class="co">#&gt; 7   ¦--Age in years-groups             FIELD</span></span>
<span><span class="co">#&gt; 8   ¦   ¦--Age in years-groups      VALUESET</span></span>
<span><span class="co">#&gt; 9   ¦   ¦   ¦--Under 15 years          VALUE</span></span>
<span><span class="co">#&gt; 10  ¦   ¦   ¦--15 to 19 years          VALUE</span></span>
<span><span class="co">#&gt; 11  ¦   ¦   ¦--20 to 24 years          VALUE</span></span>
<span><span class="co">#&gt; 12  ¦   ¦   ¦--25 to 29 years          VALUE</span></span>
<span><span class="co">#&gt; 13  ¦   ¦   ¦--30 to 34 years          VALUE</span></span>
<span><span class="co">#&gt; 14  ¦   ¦   ¦--35 to 39 years          VALUE</span></span>
<span><span class="co">#&gt; 15  ¦   ¦   ¦--40 to 44 years          VALUE</span></span>
<span><span class="co">#&gt; 16  ¦   ¦   ¦--45 to 49 years          VALUE</span></span>
<span><span class="co">#&gt; 17  ¦   ¦   ¦--50 to 54 years          VALUE</span></span>
<span><span class="co">#&gt; 18  ¦   ¦   ¦--55 to 59 years          VALUE</span></span>
<span><span class="co">#&gt; 19  ¦   ¦   ¦--60 to 64 years          VALUE</span></span>
<span><span class="co">#&gt; 20  ¦   ¦   ¦--65 to 69 years          VALUE</span></span>
<span><span class="co">#&gt; 21  ¦   ¦   ¦--70 to 74 years          VALUE</span></span>
<span><span class="co">#&gt; 22  ¦   ¦   ¦--75 years and older      VALUE</span></span>
<span><span class="co">#&gt; 23  ¦   ¦   °--Not classifiable &lt;0&gt;    VALUE</span></span>
<span><span class="co">#&gt; 24  ¦   ¦--Alter in Jahresgruppen   VALUESET</span></span>
<span><span class="co">#&gt; 25  ¦   ¦   ¦--Under 15 years          VALUE</span></span>
<span><span class="co">#&gt; 26  ¦   ¦   ¦--15 to 24 years          VALUE</span></span>
<span><span class="co">#&gt; 27  ¦   ¦   ¦--25 to 34 years          VALUE</span></span>
<span><span class="co">#&gt; 28  ¦   ¦   ¦--35 to 44 years          VALUE</span></span>
<span><span class="co">#&gt; 29  ¦   ¦   ¦--45 to 54 years          VALUE</span></span>
<span><span class="co">#&gt; 30  ¦   ¦   °--... 3 nodes w/ 0 sub         </span></span>
<span><span class="co">#&gt; 31  ¦   °--... 1 nodes w/ 6 sub             </span></span>
<span><span class="co">#&gt; 32  °--... 6 nodes w/ 80 sub</span></span></code></pre>
<p>The <a href="http://github.com/gluc/data.tree" class="external-link">data.tree</a> implementation of the print method can
be set as a default using the option
<code>STATcubeR.print_tree</code></p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>STATcubeR.print_tree <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="flatten-a-schema">Flatten a Schema<a class="anchor" aria-label="anchor" href="#flatten-a-schema"></a>
</h2>
<p>The function <code><a href="../reference/sc_schema.html">sc_schema_flatten()</a></code> can be used to turn
responses from the <code>/schema</code> endpoint into
<code>data.frame</code>s. The following call extracts all databasess
from the catalogue and displays their ids and labels.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/sc_schema.html">sc_schema_catalogue</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/sc_schema.html">sc_schema_flatten</a></span><span class="op">(</span><span class="st">"DATABASE"</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span style="color: #949494;"># A data frame: 618 × 2</span>
  <span style="font-weight: bold;">id</span>                               <span style="font-weight: bold;">label</span>                 
  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                 
<span style="color: #BCBCBC;">1</span> str:database:dedemo              Communes (Demo)       
<span style="color: #BCBCBC;">2</span> str:database:depeople            People                
<span style="color: #BCBCBC;">3</span> str:database:depeopleml          People multilingual   
<span style="color: #BCBCBC;">4</span> str:database:deretailml          Retail Banking ML en  
<span style="color: #BCBCBC;">5</span> str:database:dekonjunkturmonitor Economic Trend Monitor
<span style="color: #949494;"># … with 613 more rows</span></code></pre>
<p>The string <code>"DATABASE"</code> in the previous example acts as a
filter to make sure only nodes with the schema type
<code>DATABASE</code> are included in the table.</p>
<p>If <code>"DATABASE"</code> is relaced with <code>"TABLE"</code>, all
tables will be displayed. This includes</p>
<ul>
<li>All the defaulttables on STATcube. Most databases have an associated
default table.</li>
<li>All saved tables for the current user as described in the
<a href="sc_table_saved.html" class="STATcubeR" data-tippy-content='&lt;div style="font-size: 14px; text-align: left;"&gt;
  &lt;b class="tippy_header"&gt;Load Saved Tables&lt;/b&gt;
  &lt;br/&gt;
  &lt;div class="tippy_body"&gt;STATcube allows you to save tables in the GUI. You can import those saved tables using &lt;code&gt;sc_table_saved()&lt;/code&gt;. This function can also be used to import default tables for databases.&lt;/div&gt;
&lt;/div&gt;'>saved tables article</a>.</li>
<li>Other saved tables. Some databases do not only provide a default
table but also several other tables. See <a href="https://portal.statistik.at/statistik.at/ext/statcube/openinfopage?id=degvk_fahrt_2010" class="external-link">this
database on transport statistics</a> as an example for database with
more than one associated table</li>
</ul>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/sc_schema.html">sc_schema_catalogue</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/sc_schema.html">sc_schema_flatten</a></span><span class="op">(</span><span class="st">"TABLE"</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span style="color: #949494;"># A data frame: 647 × 2</span>
  <span style="font-weight: bold;">id</span>                                             <span style="font-weight: bold;">label</span>                          
  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                          
<span style="color: #BCBCBC;">1</span> str:table:7f851bfd-4bc0-4cc7-9013-e3c7982c9842 Monitoring                     
<span style="color: #BCBCBC;">2</span> str:table:defaulttable_depeopleml              Standardtabelle / Default tabl…
<span style="color: #BCBCBC;">3</span> str:table:defaulttable_dedemo                  Standardtabelle / Default tabl…
<span style="color: #BCBCBC;">4</span> str:table:E-A_nach_Bundeslaendern_dedemo       E-A_nach_Bundeslaendern_dedemo 
<span style="color: #BCBCBC;">5</span> str:table:Jahre_nach_NUTS_dedemo               Jahre_nach_NUTS_dedemo         
<span style="color: #949494;"># … with 642 more rows</span></code></pre>
<p><code><a href="../reference/sc_schema.html">sc_schema_flatten()</a></code> can also be used with
<code><a href="../reference/sc_schema.html">sc_schema_db()</a></code> and <code><a href="../reference/sc_schema.html">sc_schema()</a></code>. The following
example shows all available measures from the <a href="https://portal.statistik.at/statistik.at/ext/statcube/openinfopage?id=dekonjunkturmonitor" class="external-link">economic
trend monitor database</a>.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/sc_schema.html">sc_schema_db</a></span><span class="op">(</span><span class="st">"dekonjunkturmonitor"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/sc_schema.html">sc_schema_flatten</a></span><span class="op">(</span><span class="st">"MEASURE"</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span style="color: #949494;"># A data frame: 86 × 2</span>
  <span style="font-weight: bold;">id</span>                                              <span style="font-weight: bold;">label</span>                         
  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                         
<span style="color: #BCBCBC;">1</span> str:measure:dekonjunkturmonitor:F-DATA:F-FAKT-1 Production Index Industry (wd…
<span style="color: #BCBCBC;">2</span> str:measure:dekonjunkturmonitor:F-DATA:F-FAKT-2 Technical total production In…
<span style="color: #BCBCBC;">3</span> str:measure:dekonjunkturmonitor:F-DATA:F-FAKT-3 Turnover Index Industry (2015…
<span style="color: #BCBCBC;">4</span> str:measure:dekonjunkturmonitor:F-DATA:F-FAKT-4 Turnover Industry (in 1.000 €)
<span style="color: #BCBCBC;">5</span> str:measure:dekonjunkturmonitor:F-DATA:F-FAKT-5 Index of new orders Industry …
<span style="color: #949494;"># … with 81 more rows</span></code></pre>
</div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://github.com/GregorDeCillia" class="external-link">Gregor de Cillia</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
