<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Cache responses from the STATcube REST API — sc_cache • STATcubeR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Cache responses from the STATcube REST API — sc_cache"><meta name="description" content="Functions to cache requested resources in the directory ~/.STATcubeR_cache
and reuse them in calls to sc_table(), sc_table_custom() sc_schema() and so forth.
These functions are designed for testing and documentation and should not be
regarded as part of the STATcubeR interface. The caching logic is likely to
change in the future in which case sc_cache_clear() is required to purge
old cache entries."><meta property="og:description" content="Functions to cache requested resources in the directory ~/.STATcubeR_cache
and reuse them in calls to sc_table(), sc_table_custom() sc_schema() and so forth.
These functions are designed for testing and documentation and should not be
regarded as part of the STATcubeR interface. The caching logic is likely to
change in the future in which case sc_cache_clear() is required to purge
old cache entries."><meta property="og:image" content="https://statistikat.github.io/STATcubeR/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="default" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">STATcubeR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/">Show All Articles ...</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>STATcube REST API</h6></li>
    <li><a class="dropdown-item" href="../articles/sc_key.html">All about the API Key</a></li>
    <li><a class="dropdown-item" href="../articles/sc_table.html">Get Data via JSON Requests</a></li>
    <li><a class="dropdown-item" href="../articles/sc_schema.html">Metadata with the /schema Endpoint</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Open Goventment Data</h6></li>
    <li><a class="dropdown-item" href="../articles/od_table.html">Getting Started with OGD Data</a></li>
    <li><a class="dropdown-item" href="../articles/od_list.html">Available Datasets</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>The STATcubeR Data Class</h6></li>
    <li><a class="dropdown-item" href="../articles/sc_data.html">A Common Class for OGD and API Data</a></li>
    <li><a class="dropdown-item" href="../articles/sc_tabulate.html">Tabulation of Data</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://data.statistik.gv.at" aria-label="open data portal"><span class="fa fas fa-table fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://www.statistik.at/datenbanken/statcube-statistische-datenbank" aria-label="STATcube"><span class="fa fas fa-cube fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/statistikat/STATcubeR/" aria-label="github"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Cache responses from the STATcube REST API</h1>
      <small class="dont-index">Source: <a href="https://github.com/statistikat/STATcubeR/blob/master/R/cache.R" class="external-link"><code>R/cache.R</code></a></small>
      <div class="d-none name"><code>sc_cache.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Functions to cache requested resources in the directory <code>~/.STATcubeR_cache</code>
and reuse them in calls to <code><a href="sc_table.html">sc_table()</a></code>, <code><a href="sc_table_custom.html">sc_table_custom()</a></code> <code><a href="sc_schema.html">sc_schema()</a></code> and so forth.
These functions are designed for testing and documentation and should not be
regarded as part of the STATcubeR interface. The caching logic is likely to
change in the future in which case <code>sc_cache_clear()</code> is required to purge
old cache entries.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">sc_cache_enable</span><span class="op">(</span>verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">sc_cache_disable</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">sc_cache_enabled</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">sc_cache_dir</span><span class="op">(</span>dir <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">sc_cache_files</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">sc_cache_clear</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>print instructions on how to set up caching persistently
via environment variables?</p></dd>


<dt id="arg-dir">dir<a class="anchor" aria-label="anchor" href="#arg-dir"></a></dt>
<dd><p>a cache directory</p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>an object of class <code>sc_table</code> or <code>sc_schema</code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>

<ul><li><p>for <code>sc_cache_enable()</code>, <code>sc_cache_dir()</code>: the path to the cache-directory</p></li>
<li><p>for <code>sc_cache_disable()</code>: <code>TRUE</code></p></li>
<li><p>for <code>sc_cache_enabled()</code>: <code>TRUE</code> if caching is enabled, <code>FALSE</code> otherwise</p></li>
<li><p>for <code>sc_cache_files()</code>: the content of the cache associated with a file</p></li>
<li><p>for <code>sc_cache_clear()</code>: <code>NULL</code></p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Caching can be set up using environment variables. To set up a persistent cache
for both Open Data and the REST API, the following lines in <code>.Renviron</code> can
be used.
The paths in this example are only applicable for UNIX-based operating systems.</p>
<p></p><div class="sourceCode sh"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">STATCUBE_KEY_EXT</span>   = YOUR_API_KEY_GOES_HERE</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="ex">STATCUBE_CACHE</span>     = TRUE</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="ex">OD_CACHE_DIR</span>       = <span class="st">"~/.cache/STATcubeR/open_data/"</span></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="ex">STATCUBE_CACHE_DIR</span> = <span class="st">"~/.cache/STATcubeR/api/"</span></span></code></pre><p></p></div>
<p>If caching is enabled, there is no check to verify if the
resources are unchanged in the server.
Caching is not implemented for the
endpoints <code><a href="other_endpoints.html">sc_info()</a></code> and <code><a href="other_endpoints.html">sc_rate_limit_table()</a></code>.</p>
    </div>
    <div class="section level2">
    <h2 id="functions">Functions<a class="anchor" aria-label="anchor" href="#functions"></a></h2>

<ul><li><p><code>sc_cache_enable()</code>: enables caching for the current R session</p></li>
<li><p><code>sc_cache_disable()</code>: disables caching for the current R session
sc_cache_disable()</p></li>
<li><p><code>sc_cache_enabled()</code>: informs whether the cache is currently enabled</p></li>
<li><p><code>sc_cache_dir()</code>: get/set the directory used for caching</p></li>
<li><p><code>sc_cache_files()</code>: get the cache file associated with an object</p></li>
<li><p><code>sc_cache_clear()</code>: removes all files from the cache</p></li>
</ul></div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/bernhard-da" class="external-link">Bernhard Meindl</a>, <a href="https://github.com/GregorDeCillia" class="external-link">Gregor de Cillia</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

